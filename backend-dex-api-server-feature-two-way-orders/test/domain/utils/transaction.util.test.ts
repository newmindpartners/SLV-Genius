import {calculateTransactionHash} from '~/domain/utils/transaction.util';

// Sample tx payload taken from failed `/transaction/submit` call. Recorded in Conway era.
const sampleTransactionPayload =
  '84aa00d90102828258205ffce8f7ea1fdb9d73526860b22e02d5a04d2511ea221c5ce9b71c736e02b74100825820cb80751b8995b83ab4bf9b2d5e2c2e302fdfe19f6cebb015064331e94b3a7f320101828358391044376a5f63342097a4f20401088c62da272639e60644a9ec1d70f444358a4e4105c08f59e4779070699c7a72566893332f9857db4e742beb821a002f4d60a2581c53827a77e4ed3d5c211706708c0aa9b9a3be19db901b1cbf7fa515b8a1582038ff35482bf4eee7cd76ea6da70a2e032253c8b8caaf3001184a8d122b25452301581cc6e65ba7878b2f8ea0ad39287d3e2fd256dc5c4160fc19bdf4c4d87ea1457447454e531a001e9bf058207766a201fda7cc56f1fc36effc1ba3e496d6587203743854d4aca0d21b3646278258390025195af85c41b9d97da7f4f215d3e74c9cef7f04739d6ba473ba72a2358a4e4105c08f59e4779070699c7a72566893332f9857db4e742beb821b000001b677d2eb21b2581c171163f05e4f30b6be3c22668c37978e7d508b84f83558e523133cdfa14474454d501a000493e0581c432f429b1369039d55cfd0441267ca8a9ec4d696215ac0da009b74eca144744352551a00124f80581c659ab0b5658687c2e74cd10dba8244015b713bf503b90557769d77a7a14a57696e675269646572731a036952c6581c66a524d7f34d954a3ad30b4e2d08023c950dfcd53bbe3c2314995da6a145744d454c441b000e35f35ba00da9581c68fcb68511590eecdf2014425abfa8482d16d5d51a5b2eb8b3bb2baba14a47656e6975733030313901581c742ecc2ccd75407de36867ab4b4e5ead7dc03c4a5485562ab724f50aa14a47656e6975733030323001581c769c4c6e9bc3ba5406b9b89fb7beb6819e638ff2e2de63f008d5bcffa145744e45574d1a00b71b00581c7c5a2e9d8de412a840f747a8e30f841d3136340948be8b4c8fe59705a147546974616e313501581c828c6c5c9df5d8493ba505a8db216f8a84d8f9f27ae62c78bba1852ca145744e4d4b521b00234da55b9f92c0581c84be37380867957f86042ab6e2d5e862c94d31af1f4438a437f61950a144744e54581b00038bf268ef4163581c8cafc9b387c9f6519cacdce48a8448c062670c810d8da4b232e56313a1446d4e545819bf76581c8faaf6ab50b964a3ff4b53348f7d694feda62b9078df7ef628a04e82a14847616c617879313601581c96b38040007f42bb677c16a5ac9162b05db749a48a7cefedabf9ea43a5581a456d706f7761466f756e64696e67436f6d6d756e69747930303401581a456d706f7761466f756e64696e67436f6d6d756e69747931303901581a456d706f7761466f756e64696e67436f6d6d756e69747931313101581a456d706f7761466f756e64696e67436f6d6d756e69747933343501581a456d706f7761466f756e64696e67436f6d6d756e69747933343601581ca455a2d85b538ee92ad516cd69da1253971b598c239fd41936a10c11a14a47656e6975733030303201581cadb98b7dcd99dabbf7cb46214ed7c2c69f0d6dbf2e43a3c7f9a5cf2ca144676f6c6401581cb5a3a8f1c8d149ff7aaad3fbd1233b3167210f9b1d8a3b4822e4a759a3475665737461313501475665737461313601475665737461313701581cb97161baa4e20148e3d6889e324c4c8f2f6ab5ae7b8bb80bf3d7e096a158200ea7f013255992b7563d6ec631d2efd8cfdf5778a8b0251bbf2b20d4f48b03581a01c9c380581cc6e65ba7878b2f8ea0ad39287d3e2fd256dc5c4160fc19bdf4c4d87ea1457447454e531b0000010f325ad99d021a000607b407582037c0555635ab7e45ec39bd8feb873080d036c9a67c4cdd0c85e1c5291b0482f209a1581c53827a77e4ed3d5c211706708c0aa9b9a3be19db901b1cbf7fa515b8a1582038ff35482bf4eee7cd76ea6da70a2e032253c8b8caaf3001184a8d122b254523010b582035a81cec6c5000cd8ff91cea975d45ac653654cef26c50f4868553b7c796fd5d0dd901028182582033971398f5b7c7c0773e96414e757c44e0659cc09f080154fca3dcca52ed316b04108258390025195af85c41b9d97da7f4f215d3e74c9cef7f04739d6ba473ba72a2358a4e4105c08f59e4779070699c7a72566893332f9857db4e742beb1a00433fb2111a00090b8e12d901028282582016647d6365020555d905d6e0edcf08b90a567886f875b40b3d7cec1c704826240082582016647d6365020555d905d6e0edcf08b90a567886f875b40b3d7cec1c7048262401a204d9010281d8799f581c271c5a78179d69506e6a14ab9e0a8439ddb1e9a1f9cc0233e5892777d8799fd8799f581c271c5a78179d69506e6a14ab9e0a8439ddb1e9a1f9cc0233e5892777ffd8799fd8799fd8799f581c358a4e4105c08f59e4779070699c7a72566893332f9857db4e742bebffffffffd8799f581cc6e65ba7878b2f8ea0ad39287d3e2fd256dc5c4160fc19bdf4c4d87e457447454e53ff1a001e84801a001e8480d8799f4040ffd8799f0102ff582038ff35482bf4eee7cd76ea6da70a2e032253c8b8caaf3001184a8d122b254523d87a80d87a80001a000f42401a000f4240d8799f1a000f424019177000ff00ff05a182010082d8799fd8799fd8799f58205ffce8f7ea1fdb9d73526860b22e02d5a04d2511ea221c5ce9b71c736e02b741ff00ffff821a000ce0001a101c0618f5d90103a100a11902a2a1636d736781781947656e6975735969656c643a204f7264657220706c61636564';
const expectedHashForSamplePayload =
  '94653589fb1b41180511352c9c8e06f6870795c03d171e54e6bc75b2b90fa8dc';

test('Transaction hash calculation', async () => {
  expect(calculateTransactionHash(sampleTransactionPayload)).toBe(
    expectedHashForSamplePayload
  );
});
